!function(a){"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():window.wNumb=a()}(function(){var j=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function l(f){return f.split("").reverse().join("")}function c(f,h){return f.substring(0,h.length)===h}function b(f,i,h){if((f[i]||f[h])&&f[i]===f[h]){throw new Error(i)}}function m(f){return"number"==typeof f&&isFinite(f)}function g(y,K,F,I,C,G,z,L,J,w,q,H){var x,D,B,A=H,M="",E="";return G&&(H=G(H)),!!m(H)&&(!1!==y&&0===parseFloat(H.toFixed(y))&&(H=0),H<0&&(x=!0,H=Math.abs(H)),!1!==y&&(H=function(f,h){return f=f.toString().split("e"),(+((f=(f=Math.round(+(f[0]+"e"+(f[1]?+f[1]+h:h)))).toString().split("e"))[0]+"e"+(f[1]?f[1]-h:-h))).toFixed(h)}(H,y)),-1!==(H=H.toString()).indexOf(".")?(B=(D=H.split("."))[0],F&&(M=F+D[1])):B=H,K&&(B=l((B=l(B).match(/.{1,3}/g)).join(l(K)))),x&&L&&(E+=L),I&&(E+=I),x&&J&&(E+=J),E+=B,E+=M,C&&(E+=C),w&&(E=w(E,A)),E)}function k(w,F,A,D,y,B,x,G,E,q,h,C){var v,z="";return h&&(C=h(C)),!(!C||"string"!=typeof C)&&(G&&c(C,G)&&(C=C.replace(G,""),v=!0),D&&c(C,D)&&(C=C.replace(D,"")),E&&c(C,E)&&(C=C.replace(E,""),v=!0),y&&function(f,i){return f.slice(-1*i.length)===i}(C,y)&&(C=C.slice(0,-1*y.length)),F&&(C=C.split(F).join("")),A&&(C=C.replace(A,".")),v&&(z+="-"),""!==(z=(z+=C).replace(/[^0-9\.\-.]/g,""))&&(z=Number(z),x&&(z=x(z)),!!m(z)&&z))}function d(f,q,o){var p,h=[];for(p=0;p<j.length;p+=1){h.push(f[j[p]])}return h.push(o),q.apply("",h)}return function a(e){if(!(this instanceof a)){return new a(e)}"object"==typeof e&&(e=function(f){var q,o,p,h={};for(void 0===f.suffix&&(f.suffix=f.postfix),q=0;q<j.length;q+=1){if(void 0===(p=f[o=j[q]])){"negative"!==o||h.negativeBefore?"mark"===o&&"."!==h.thousand?h[o]=".":h[o]=!1:h[o]="-"}else{if("decimals"===o){if(!(0<=p&&p<8)){throw new Error(o)}h[o]=p}else{if("encoder"===o||"decoder"===o||"edit"===o||"undo"===o){if("function"!=typeof p){throw new Error(o)}h[o]=p}else{if("string"!=typeof p){throw new Error(o)}h[o]=p}}}}return b(h,"mark","thousand"),b(h,"prefix","negative"),b(h,"prefix","negativeBefore"),h}(e),this.to=function(f){return d(e,g,f)},this.from=function(f){return d(e,k,f)})}});